var Seven={};self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{};var Prism=function(){var e=/\blang(?:uage)?-(?!\*)(\w+)\b/i,t=self.Prism={util:{encode:function(e){return e instanceof i?new i(e.type,t.util.encode(e.content)):"Array"===t.util.type(e)?e.map(t.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},clone:function(e){var i=t.util.type(e);switch(i){case"Object":var s={};for(var n in e)e.hasOwnProperty(n)&&(s[n]=t.util.clone(e[n]));return s;case"Array":return e.slice()}return e}},languages:{extend:function(e,i){var s=t.util.clone(t.languages[e]);for(var n in i)s[n]=i[n];return s},insertBefore:function(e,i,s,n){n=n||t.languages;var r=n[e],a={};for(var o in r)if(r.hasOwnProperty(o)){if(o==i)for(var l in s)s.hasOwnProperty(l)&&(a[l]=s[l]);a[o]=r[o]}return n[e]=a},DFS:function(e,i){for(var s in e)i.call(e,s,e[s]),"Object"===t.util.type(e)&&t.languages.DFS(e[s],i)}},highlightAll:function(e,i){for(var s,n=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),r=0;s=n[r++];)t.highlightElement(s,e===!0,i)},highlightElement:function(s,n,r){for(var a,o,l=s;l&&!e.test(l.className);)l=l.parentNode;if(l&&(a=(l.className.match(e)||[,""])[1],o=t.languages[a]),o){s.className=s.className.replace(e,"").replace(/\s+/g," ")+" language-"+a,l=s.parentNode,/pre/i.test(l.nodeName)&&(l.className=l.className.replace(e,"").replace(/\s+/g," ")+" language-"+a);var c=s.textContent;if(c){var h={element:s,language:a,grammar:o,code:c};if(t.hooks.run("before-highlight",h),n&&self.Worker){var u=new Worker(t.filename);u.onmessage=function(e){h.highlightedCode=i.stringify(JSON.parse(e.data),a),t.hooks.run("before-insert",h),h.element.innerHTML=h.highlightedCode,r&&r.call(h.element),t.hooks.run("after-highlight",h)},u.postMessage(JSON.stringify({language:h.language,code:h.code}))}else h.highlightedCode=t.highlight(h.code,h.grammar,h.language),t.hooks.run("before-insert",h),h.element.innerHTML=h.highlightedCode,r&&r.call(s),t.hooks.run("after-highlight",h)}}},highlight:function(e,s,n){var r=t.tokenize(e,s);return i.stringify(t.util.encode(r),n)},tokenize:function(e,i){var s=t.Token,n=[e],r=i.rest;if(r){for(var a in r)i[a]=r[a];delete i.rest}e:for(var a in i)if(i.hasOwnProperty(a)&&i[a]){var o=i[a];o="Array"===t.util.type(o)?o:[o];for(var l=0;l<o.length;++l){var c=o[l],h=c.inside,u=!!c.lookbehind,g=0;c=c.pattern||c;for(var p=0;p<n.length;p++){var f=n[p];if(n.length>e.length)break e;if(!(f instanceof s)){c.lastIndex=0;var d=c.exec(f);if(d){u&&(g=d[1].length);var m=d.index-1+g,d=d[0].slice(g),w=d.length,v=m+w,b=f.slice(0,m+1),y=f.slice(v+1),k=[p,1];b&&k.push(b);var S=new s(a,h?t.tokenize(d,h):d);k.push(S),y&&k.push(y),Array.prototype.splice.apply(n,k)}}}}}return n},hooks:{all:{},add:function(e,i){var s=t.hooks.all;s[e]=s[e]||[],s[e].push(i)},run:function(e,i){var s=t.hooks.all[e];if(s&&s.length)for(var n,r=0;n=s[r++];)n(i)}}},i=t.Token=function(e,t){this.type=e,this.content=t};if(i.stringify=function(e,s,n){if("string"==typeof e)return e;if("[object Array]"==Object.prototype.toString.call(e))return e.map(function(t){return i.stringify(t,s,e)}).join("");var r={type:e.type,content:i.stringify(e.content,s,n),tag:"span",classes:["token",e.type],attributes:{},language:s,parent:n};"comment"==r.type&&(r.attributes.spellcheck="true"),t.hooks.run("wrap",r);var a="";for(var o in r.attributes)a+=o+'="'+(r.attributes[o]||"")+'"';return"<"+r.tag+' class="'+r.classes.join(" ")+'" '+a+">"+r.content+"</"+r.tag+">"},!self.document)return self.addEventListener?(self.addEventListener("message",function(e){var i=JSON.parse(e.data),s=i.language,n=i.code;self.postMessage(JSON.stringify(t.tokenize(n,t.languages[s]))),self.close()},!1),self.Prism):self.Prism;var s=document.getElementsByTagName("script");return s=s[s.length-1],s&&(t.filename=s.src,document.addEventListener&&!s.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",t.highlightAll)),self.Prism}();"undefined"!=typeof module&&module.exports&&(module.exports=Prism),Prism.languages.css={comment:/\/\*[\w\W]*?\*\//g,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*{))/gi,inside:{punctuation:/[;:]/g}},url:/url\((["']?).*?\1\)/gi,selector:/[^\{\}\s][^\{\};]*(?=\s*\{)/g,property:/(\b|\B)[\w-]+(?=\s*:)/gi,string:/("|')(\\?.)*?\1/g,important:/\B!important\b/gi,punctuation:/[\{\};:]/g,"function":/[-a-z0-9]+(?=\()/gi},Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{style:{pattern:/<style[\w\W]*?>[\w\W]*?<\/style>/gi,inside:{tag:{pattern:/<style[\w\W]*?>|<\/style>/gi,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.css}}}),Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//g,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*?(\r?\n|$)/g,lookbehind:!0}],string:/("|')(\\?.)*?\1/g,"class-name":{pattern:/((?:(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/gi,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/g,"boolean":/\b(true|false)\b/g,"function":{pattern:/[a-z0-9_]+\(/gi,inside:{punctuation:/\(/}},number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?)\b/g,operator:/[-+]{1,2}|!|<=?|>=?|={1,3}|&{1,2}|\|?\||\?|\*|\/|\~|\^|\%/g,ignore:/&(lt|gt|amp);/gi,punctuation:/[{}[\];(),.:]/g},Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|function|get|if|implements|import|in|instanceof|interface|let|new|null|package|private|protected|public|return|set|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/g,number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?|NaN|-?Infinity)\b/g}),Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/g,lookbehind:!0}}),Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{script:{pattern:/<script[\w\W]*?>[\w\W]*?<\/script>/gi,inside:{tag:{pattern:/<script[\w\W]*?>|<\/script>/gi,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.javascript}}}),Prism.languages.scss=Prism.languages.extend("css",{comment:{pattern:/(^|[^\\])(\/\*[\w\W]*?\*\/|\/\/.*?(\r?\n|$))/g,lookbehind:!0},atrule:/@[\w-]+(?=\s+(\(|\{|;))/gi,url:/([-a-z]+-)*url(?=\()/gi,selector:/([^@;\{\}\(\)]?([^@;\{\}\(\)]|&|\#\{\$[-_\w]+\})+)(?=\s*\{(\}|\s|[^\}]+(:|\{)[^\}]+))/gm}),Prism.languages.insertBefore("scss","atrule",{keyword:/@(if|else if|else|for|each|while|import|extend|debug|warn|mixin|include|function|return|content)|(?=@for\s+\$[-_\w]+\s)+from/i}),Prism.languages.insertBefore("scss","property",{variable:/((\$[-_\w]+)|(#\{\$[-_\w]+\}))/i}),Prism.languages.insertBefore("scss","ignore",{placeholder:/%[-_\w]+/i,statement:/\B!(default|optional)\b/gi,"boolean":/\b(true|false)\b/g,"null":/\b(null)\b/g,operator:/\s+([-+]{1,2}|={1,2}|!=|\|?\||\?|\*|\/|\%)\s+/g}),Seven.WindowView=Patchbay.View.extend({el:window,setup:function(){this.listenTo(this.$el,"resize",_.bind(this.onResize,this))},onResize:_.throttle(function(){this.trigger("resize")},25)}),Seven.DocumentView=Patchbay.View.extend({el:document}),Seven.AppScrollerView=function(){return Patchbay.View.extend({setup:function(){this.app=window.app,this.setupIScroll(),this.setupListeners()},setupListeners:function(){this.navHeight=80,this.listenTo(this.app.header,"resize",this.onHeaderResize)},onHeaderResize:function(e){var t=this;this.$el.css("height",window.innerHeight).children().eq(0).css("padding-top",e),this.navHeight=e,_.defer(function(){t.scroll.refresh()})},setupIScroll:function(){this.lastPos=0,this.scroll=new IScroll(this.el,{eventPassthrough:"horizontal",scrollbars:"custom",mouseWheel:!0,probeType:3}),this.scroll.on("scrollStart",_.bind(this.scrollStart,this)),this.scroll.on("scroll",_.bind(this.scrollUpdate,this)),this.scroll.on("scrollEnd",_.bind(this.scrollEnd,this))},cleanup:function(){this.scroll.destroy()},scrollStart:function(){clearTimeout(this.timer),this.updateScrollDirection(),this.app.state("scrolling",!0),this.hook("scroll","start",this.pos)},scrollEnd:function(){this.app.state("scrolling",!1),this.hook("scroll","end",this.pos)},scrollUpdate:_.throttle(function(){this.pos=-1*this.scroll.y,this.updateScrollState(),this.updateScrollNav(),this.updateScrollDirection(),this.delta=this.pos-this.lastPos,this.lastPos=this.pos,this.trigger("scroll",this.pos,{direction:this.dir,lastpos:this.lastPos,delta:this.delta})},20),updateScrollState:function(){this.trigger("scrolled",this.pos>0),this.app.state("scrolled",this.pos>0)},updateScrollNav:function(){this.trigger("scrolled:nav",this.pos>this.navHeight/4*3),this.app.state("scrolled-nav",this.pos>this.navHeight/4*3)},updateScrollDirection:function(){var e=this.pos<this.lastPos,t=e?"up":"down";this.dir!==t&&(this.dir=t,this.app.state("scrolled-up",e),this.app.state("scrolled-down",!e))}})}(),Seven.HeaderView=Patchbay.View.extend({ui:{mast:".l-header-mast",wrapper:".l-header-wrapper",logo:".logo",navItems:".nav-item"},setup:function(){this.window=$(window),this.app=window.app,this.lastHeight=0,this.setupResize(),this.setupScroll()},setupResize:function(){this.listenTo(this.app.window,"resize",_.throttle(this.resize,25)),this.resize()},resize:function(){this.offsetMax=this.height=this.ui.wrapper.height(),this.lastHeight!==this.height&&(this.lastHeight=this.height,this.trigger("resize",this.height),clearTimeout(this.timer),this.timer=_.delay(_.bind(this.resize,this),100))},setupScroll:function(){this.offset=0,this.listenTo(this.app.scroller,"scroll",function(e,t){var i=e>this.height/4*3;this.updateOffset(t.delta),this.offset=i?this.offset:0,this.ui.mast.css("transform","translate(0, -"+this.offset+"px, 0)")}),this.listenTo(this.app.scroller,"scroll:end",function(e){var t=e>this.height/4*3,i=this.offset>this.offsetMax/2;this.offset=t&&i?this.offsetMax:0,this.ui.mast.transition({y:-1*this.offset},250)},this)},updateOffset:function(e){var t;e=_.isNaN(e)?0:e,t=0>e?!0:!1,e=Math.abs(e),e=e>4?4:e,e=t?-1*e:e,this.offset+=e,this.offset=this.offset>this.offsetMax?this.offsetMax:this.offset,this.offset=this.offset<0?0:this.offset,this.offset=Math.ceil(this.offset)}}),Seven.ArticleView=Patchbay.View.extend({ui:{content:".content",nodes:".content > *"},setup:function(){}}),Seven.ApplicationView=Patchbay.View.extend({el:"#application",ui:{header:".l-header",footer:".l-footer",content:"#application-content",article:".l-article"},setup:function(){this.setupChildren(),this.state("starting",!0),_.delay(_.bind(this.state,this),250,"starting",!1)},setupChildren:function(){this.window=Seven.WindowView.create(),this.document=Seven.DocumentView.create(),this.scroller=Seven.AppScrollerView.create({el:this.ui.content}),this.header=Seven.HeaderView.create({el:this.ui.header}),this.setupPage()},setupPage:function(){this.ui.article.length>0&&(this.article=Seven.ArticleView.create({el:this.ui.article}))}}),$(function(){window.app=Seven.ApplicationView.create()});