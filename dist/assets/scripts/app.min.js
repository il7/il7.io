var Seven=function(){};self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{};var Prism=function(){var e=/\blang(?:uage)?-(?!\*)(\w+)\b/i,t=self.Prism={util:{encode:function(e){return e instanceof n?new n(e.type,t.util.encode(e.content)):"Array"===t.util.type(e)?e.map(t.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},clone:function(e){var n=t.util.type(e);switch(n){case"Object":var i={};for(var r in e)e.hasOwnProperty(r)&&(i[r]=t.util.clone(e[r]));return i;case"Array":return e.slice()}return e}},languages:{extend:function(e,n){var i=t.util.clone(t.languages[e]);for(var r in n)i[r]=n[r];return i},insertBefore:function(e,n,i,r){r=r||t.languages;var s=r[e],a={};for(var o in s)if(s.hasOwnProperty(o)){if(o==n)for(var l in i)i.hasOwnProperty(l)&&(a[l]=i[l]);a[o]=s[o]}return r[e]=a},DFS:function(e,n){for(var i in e)n.call(e,i,e[i]),"Object"===t.util.type(e)&&t.languages.DFS(e[i],n)}},highlightAll:function(e,n){for(var i,r=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),s=0;i=r[s++];)t.highlightElement(i,e===!0,n)},highlightElement:function(i,r,s){for(var a,o,l=i;l&&!e.test(l.className);)l=l.parentNode;if(l&&(a=(l.className.match(e)||[,""])[1],o=t.languages[a]),o){i.className=i.className.replace(e,"").replace(/\s+/g," ")+" language-"+a,l=i.parentNode,/pre/i.test(l.nodeName)&&(l.className=l.className.replace(e,"").replace(/\s+/g," ")+" language-"+a);var c=i.textContent;if(c){var u={element:i,language:a,grammar:o,code:c};if(t.hooks.run("before-highlight",u),r&&self.Worker){var g=new Worker(t.filename);g.onmessage=function(e){u.highlightedCode=n.stringify(JSON.parse(e.data),a),t.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,s&&s.call(u.element),t.hooks.run("after-highlight",u)},g.postMessage(JSON.stringify({language:u.language,code:u.code}))}else u.highlightedCode=t.highlight(u.code,u.grammar,u.language),t.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,s&&s.call(i),t.hooks.run("after-highlight",u)}}},highlight:function(e,i,r){var s=t.tokenize(e,i);return n.stringify(t.util.encode(s),r)},tokenize:function(e,n){var i=t.Token,r=[e],s=n.rest;if(s){for(var a in s)n[a]=s[a];delete n.rest}e:for(var a in n)if(n.hasOwnProperty(a)&&n[a]){var o=n[a];o="Array"===t.util.type(o)?o:[o];for(var l=0;l<o.length;++l){var c=o[l],u=c.inside,g=!!c.lookbehind,p=0;c=c.pattern||c;for(var d=0;d<r.length;d++){var h=r[d];if(r.length>e.length)break e;if(!(h instanceof i)){c.lastIndex=0;var f=c.exec(h);if(f){g&&(p=f[1].length);var m=f.index-1+p,f=f[0].slice(p),w=f.length,v=m+w,y=h.slice(0,m+1),b=h.slice(v+1),k=[d,1];y&&k.push(y);var S=new i(a,u?t.tokenize(f,u):f);k.push(S),b&&k.push(b),Array.prototype.splice.apply(r,k)}}}}}return r},hooks:{all:{},add:function(e,n){var i=t.hooks.all;i[e]=i[e]||[],i[e].push(n)},run:function(e,n){var i=t.hooks.all[e];if(i&&i.length)for(var r,s=0;r=i[s++];)r(n)}}},n=t.Token=function(e,t){this.type=e,this.content=t};if(n.stringify=function(e,i,r){if("string"==typeof e)return e;if("[object Array]"==Object.prototype.toString.call(e))return e.map(function(t){return n.stringify(t,i,e)}).join("");var s={type:e.type,content:n.stringify(e.content,i,r),tag:"span",classes:["token",e.type],attributes:{},language:i,parent:r};"comment"==s.type&&(s.attributes.spellcheck="true"),t.hooks.run("wrap",s);var a="";for(var o in s.attributes)a+=o+'="'+(s.attributes[o]||"")+'"';return"<"+s.tag+' class="'+s.classes.join(" ")+'" '+a+">"+s.content+"</"+s.tag+">"},!self.document)return self.addEventListener?(self.addEventListener("message",function(e){var n=JSON.parse(e.data),i=n.language,r=n.code;self.postMessage(JSON.stringify(t.tokenize(r,t.languages[i]))),self.close()},!1),self.Prism):self.Prism;var i=document.getElementsByTagName("script");return i=i[i.length-1],i&&(t.filename=i.src,document.addEventListener&&!i.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",t.highlightAll)),self.Prism}();"undefined"!=typeof module&&module.exports&&(module.exports=Prism),Prism.languages.css={comment:/\/\*[\w\W]*?\*\//g,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*{))/gi,inside:{punctuation:/[;:]/g}},url:/url\((["']?).*?\1\)/gi,selector:/[^\{\}\s][^\{\};]*(?=\s*\{)/g,property:/(\b|\B)[\w-]+(?=\s*:)/gi,string:/("|')(\\?.)*?\1/g,important:/\B!important\b/gi,punctuation:/[\{\};:]/g,"function":/[-a-z0-9]+(?=\()/gi},Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{style:{pattern:/<style[\w\W]*?>[\w\W]*?<\/style>/gi,inside:{tag:{pattern:/<style[\w\W]*?>|<\/style>/gi,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.css}}}),Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//g,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*?(\r?\n|$)/g,lookbehind:!0}],string:/("|')(\\?.)*?\1/g,"class-name":{pattern:/((?:(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/gi,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/g,"boolean":/\b(true|false)\b/g,"function":{pattern:/[a-z0-9_]+\(/gi,inside:{punctuation:/\(/}},number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?)\b/g,operator:/[-+]{1,2}|!|<=?|>=?|={1,3}|&{1,2}|\|?\||\?|\*|\/|\~|\^|\%/g,ignore:/&(lt|gt|amp);/gi,punctuation:/[{}[\];(),.:]/g},Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|function|get|if|implements|import|in|instanceof|interface|let|new|null|package|private|protected|public|return|set|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/g,number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?|NaN|-?Infinity)\b/g}),Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/g,lookbehind:!0}}),Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{script:{pattern:/<script[\w\W]*?>[\w\W]*?<\/script>/gi,inside:{tag:{pattern:/<script[\w\W]*?>|<\/script>/gi,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.javascript}}}),Prism.languages.scss=Prism.languages.extend("css",{comment:{pattern:/(^|[^\\])(\/\*[\w\W]*?\*\/|\/\/.*?(\r?\n|$))/g,lookbehind:!0},atrule:/@[\w-]+(?=\s+(\(|\{|;))/gi,url:/([-a-z]+-)*url(?=\()/gi,selector:/([^@;\{\}\(\)]?([^@;\{\}\(\)]|&|\#\{\$[-_\w]+\})+)(?=\s*\{(\}|\s|[^\}]+(:|\{)[^\}]+))/gm}),Prism.languages.insertBefore("scss","atrule",{keyword:/@(if|else if|else|for|each|while|import|extend|debug|warn|mixin|include|function|return|content)|(?=@for\s+\$[-_\w]+\s)+from/i}),Prism.languages.insertBefore("scss","property",{variable:/((\$[-_\w]+)|(#\{\$[-_\w]+\}))/i}),Prism.languages.insertBefore("scss","ignore",{placeholder:/%[-_\w]+/i,statement:/\B!(default|optional)\b/gi,"boolean":/\b(true|false)\b/g,"null":/\b(null)\b/g,operator:/\s+([-+]{1,2}|={1,2}|!=|\|?\||\?|\*|\/|\%)\s+/g}),Seven.WindowView=function(){return Tendon.View.extend({events:{resize:"onResize",scroll:"onScroll"},onResize:function(){this.updateScroll()},onScroll:function(){this.updateScroll()},updateScroll:_.throttle(function(){var e=app.header&&app.header.height||50;this.pos=this.$el.scrollTop(),app.state("scrolling",!0),app.state("scrolled",this.pos>0),app.state("scrolled-nav",this.pos>e/4*3),this.updateScrollDirection(),clearTimeout(this.timer),this.timer=_.delay(_.bind(this.cleanupScroll,this),200)},100),updateScrollDirection:function(){this.pos&&this.lastPos&&this.pos!==this.lastPos&&(this.pos<this.lastPos?(app.state("scrolled-up",!0),app.state("scrolled-down",!1),this.vein.trigger("scrolled:up",this.pos)):(app.state("scrolled-up",!1),app.state("scrolled-down",!0),this.vein.trigger("scrolled:down",this.pos))),this.lastPos=this.pos},startScroll:function(){app.state("scrolling",!1),this.vein.trigger("scrolling:stop",this.pos)},cleanupScroll:function(){app.state("scrolling",!1),this.vein.trigger("scrolling:stop",this.pos)}})}(),Seven.DocumentView=function(){return Tendon.View.extend({})}(),Seven.AppScrollerView=function(){return Tendon.View.extend({onRender:function(){this.setupIScroll()},setupIScroll:function(){this.scroll=new IScroll("#application-content",{mouseWheel:!0,scrollbars:"custom"})}})}(),Seven.HeaderView=function(){return Tendon.View.extend({ui:{mast:".l-header-mast",wrapper:".l-header-wrapper",logo:".logo",navItems:".nav-item"},onRender:function(){this.setupResize()},setupResize:function(){$(window).on("resize",{self:this},_.throttle(this.onResize,250)).trigger("resize")},onResize:function(e){var t=e.data.self;t.height=t.ui.wrapper.height(),t.$el.css("height",t.height),clearTimeout(this.timer),this.timer=_.delay(function(){t.onResize(e)},250)}})}(),Seven.ArticleView=function(){return Tendon.View.extend({ui:{content:".content",nodes:".content > *"},excluded:[".content-code"],onRender:function(){},setupWraps:function(){var e=this,t=$(document.createElement("div")).addClass("content-wrapper");this.ui.wrappedNodes=this.ui.nodes.filter(function(){var t=$(this);return!t.is.apply(t,e.excluded)}),this.ui.wrappedNodes.wrap(t)}})}(),Seven.ApplicationView=function(){return Tendon.View.extend({el:"#application",ui:{header:".l-header",footer:".l-footer",content:"#application-content",article:".l-article"},onRender:function(){this.header=new Seven.HeaderView({el:this.ui.header}),this.window=new Seven.WindowView({el:window}),this.document=new Seven.DocumentView({el:document}),this.scroller=new Seven.AppScrollerView({el:this.ui.content}),this.setup(),this.setupPage()},setup:function(){var e=this;e.state("starting",!0),_.delay(function(){e.state("starting",!1)},500)},setupPage:function(){this.ui.article.length>0&&(this.article=new Seven.ArticleView({el:this.ui.article}))}})}(),$(function(){window.app=new Seven.ApplicationView});