var Seven=function(){};Seven.HeaderView=function(){return Tendon.View.extend({ui:{mast:".l-header-mast",wrapper:".l-header-wrapper",logo:".logo",navItems:".nav-item"},onRender:function(){this.setupResize()},setupResize:function(){$(window).on("resize",{self:this},_.throttle(this.onResize,250)).trigger("resize")},onResize:function(e){var t=e.data.self;t.height=t.ui.wrapper.height(),t.$el.css("height",t.height),clearTimeout(this.timer),this.timer=_.delay(function(){t.onResize(e)},250)}})}(),Seven.WindowView=function(){return Tendon.View.extend({events:{resize:"updateScroll",scroll:"updateScroll"},updateScroll:function(){var e=app.header&&app.header.height||50;this.pos=this.$el.scrollTop(),app.state("scrolling",!0),app.state("scrolled",this.pos>0),app.state("scrolled-nav",this.pos>e/4*3),this.updateScrollDirection(),clearTimeout(this.timer),this.timer=_.delay(_.bind(this.cleanupScroll,this),200)},updateScrollDirection:_.throttle(function(){this.pos&&this.lastPos&&this.pos!==this.lastPos&&(app.state("scrolled-up",this.pos<this.lastPos),app.state("scrolled-down",this.pos>this.lastPos)),this.lastPos=this.pos},200),cleanupScroll:function(){app.state("scrolling",!1)}})}(),Seven.ApplicationView=function(){return Tendon.View.extend({el:"#application",ui:{header:".l-header",footer:".l-footer"},initialize:function(){this.window=new Seven.WindowView({el:window}),this.header=new Seven.HeaderView({el:this.ui.header})}})}(),$(function(){window.app=new Seven.ApplicationView});